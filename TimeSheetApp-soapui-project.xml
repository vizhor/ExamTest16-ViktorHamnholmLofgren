<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="bbba3a24-abd0-4bba-aa88-dba6afc8c222" activeEnvironment="Default" name="TimeSheetApp" resourceRoot="" soapui-version="5.3.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="a9b54c0d-25e1-4d0e-b56b-88401ecbc16f" wadlVersion="http://wadl.dev.java.net/2009/02" name="Get-AllEmployee" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint></con:endpoints><con:resource name="All" path="/employees/all" id="eedb387e-c1f8-49a6-866f-b04f87a020dc"><con:settings/><con:parameters/><con:method name="All 1" id="460e312c-d24a-4a81-bda5-5f6acf7d4a6b" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:request name="Request 1" id="f20d1873-fc1d-46f9-940d-337344ae5c02" mediaType="application/json"><con:settings/><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="89200b08-701e-42a4-95ea-be7898f0cef8" wadlVersion="http://wadl.dev.java.net/2009/02" name="Post-NewEmployee" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://shielded-harbor-21142.herokuapp.com</con:endpoint></con:endpoints><con:resource name="Create" path="/employees/create" id="4ef3c324-675c-4bfa-8d7a-eed360237d9c"><con:settings/><con:parameters/><con:method name="Create 1" id="d8b969b3-441f-4961-8884-aebfc1cd0914" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="6f0ee6fd-b3c7-448a-ac6a-7d26aea111f6" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://shielded-harbor-21142.herokuapp.com</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="e446b3be-18a3-41ba-ab02-1cae469d1546" wadlVersion="http://wadl.dev.java.net/2009/02" name="Delete-Employee" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint></con:endpoints><con:resource name="Delete" path="/employees/delete" id="df7e1ffb-6d91-4f10-a25d-57a27dc116d2"><con:settings/><con:parameters/><con:method name="Delete 1" id="0ed3787b-7748-4517-8c9b-3c83ccd7d487" method="DELETE"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="46e15e35-bc2c-49ae-9455-c71d9b07ba43" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:testSuite id="3fcf53bc-0ff5-4b7a-ad15-ed7a00c42381" name="TimeSheetApp-TestSuite"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="2420e088-2f4a-4b71-a8a1-d3c5bb95e8b8" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TimeSheetApp-TestCase" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Static-EmpData-POST-TestStep" id="86a5c387-764c-4101-a3aa-026c758f3f53"><con:settings/><con:config><script>def firstName = "Rory"
def lastName = "Roryson"
def gender = "male"
def role = "Tester"
def email = "rory@gmail.com"

log.info("Employee firstName : " + " "+firstName)
log.info("Employee lastName : " + " "+lastName)
log.info("Employee gender : " + " "+gender)
log.info("Employee role : " + " "+role)
log.info("Employee email : " + " "+email)

com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("FirstName", firstName)
com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("LastName", lastName)
com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("Gender", gender)
com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("Role", role)
com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("Email", email.toString())


</script></con:config></con:testStep><con:testStep type="restrequest" name="Post-NewEmployee" id="2024c73e-ad4c-47c4-a1f2-3f86f0336b70"><con:settings/><con:config service="Post-NewEmployee" resourcePath="/employees/create" methodName="Create 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Post-NewEmployee" id="6f0ee6fd-b3c7-448a-ac6a-7d26aea111f6" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://shielded-harbor-21142.herokuapp.com</con:endpoint><con:request>{
	
      "firstName": "${FirstName}",
      "lastName": "${LastName}",
      "gender": "${Gender}",
      "email": "${Email}",
      "role": "${Role}"

}
</con:request><con:originalUri>http://shielded-harbor-21142.herokuapp.com/employees/create</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="12570967-50d3-4a09-a67f-43abf1ffe159" name="Valid HTTP Status Codes"><con:configuration><codes>204</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Get-AllEmployee" id="fa0612c8-47db-4da8-ba7e-b6064bef1776"><con:settings/><con:config service="Get-AllEmployee" resourcePath="/employees/all" methodName="All 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get-AllEmployee" id="f20d1873-fc1d-46f9-940d-337344ae5c02" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint><con:request/><con:originalUri>https://shielded-harbor-21142.herokuapp.com/employees/all</con:originalUri><con:assertion type="Simple Contains" id="5b9b6e92-3402-419e-af4d-a99751a65c48" name="Contains"><con:configuration><token>Developer</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="274cc27e-c7ad-42fc-b13b-4fe89adc93b6" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Dynamic-EmpData-DELETE-TestStep" id="eed139d3-78ea-4dd6-b072-6284fef85b20" disabled="true"><con:settings/><con:config><script>import groovy.json.JsonSlurper
import groovy.json.JsonOutput

def responseContent = testRunner.testCase.getTestStepByName("Get-AllEmployee").getPropertyValue("Response")
def employeeData = new JsonSlurper().parseText(responseContent)

for(int i = 0; i  &lt; employeeData.size(); i++) 
{ 
 if ( employeeData.get(i).firstName == "Rory")
 {  
   	def DeleteEmployee = new JsonOutput().toJson(employeeData.get(i))  
   	log.info("   "+"DeleteEmployee = "+"   "+DeleteEmployee)           
  	com.eviware.soapui.SoapUI.globalProperties.setPropertyValue( "DeleteEmployee", DeleteEmployee.toString())
   }
}
</script></con:config></con:testStep><con:testStep type="restrequest" name="Delete-Employee" id="57434a54-8dde-4382-b43c-6e596160fd65"><con:settings/><con:config service="Delete-Employee" resourcePath="/employees/delete" methodName="Delete 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete-Employee" id="46e15e35-bc2c-49ae-9455-c71d9b07ba43" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint><con:request>${DeleteEmployee}</con:request><con:originalUri>https://shielded-harbor-21142.herokuapp.com/employees/delete</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4837a3f3-0ac6-457e-9d43-b915c06205c0" name="Valid HTTP Status Codes"><con:configuration><codes>204</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/></con:soapui-project>